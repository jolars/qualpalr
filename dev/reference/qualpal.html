<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Generate qualitative color palettes — qualpal • qualpalr</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Generate qualitative color palettes — qualpal"><meta name="description" content="Given a color space or collection of colors, qualpal() projects
these colors to the DIN99d color space, where it generates a color palette
from the most visually distinct colors, optionally taking color vision
deficiency into account."><meta property="og:description" content="Given a color space or collection of colors, qualpal() projects
these colors to the DIN99d color space, where it generates a color palette
from the most visually distinct colors, optionally taking color vision
deficiency into account."><meta name="robots" content="noindex"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">qualpalr</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.4.4.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/introduction.html">An introduction to qualpalr</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/jolars/qualpalr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Generate qualitative color palettes</h1>
      <small class="dont-index">Source: <a href="https://github.com/jolars/qualpalr/blob/main/R/qualpal.R" class="external-link"><code>R/qualpal.R</code></a></small>
      <div class="d-none name"><code>qualpal.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Given a color space or collection of colors, <code>qualpal()</code> projects
these colors to the DIN99d color space, where it generates a color palette
from the most visually distinct colors, optionally taking color vision
deficiency into account.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">qualpal</span><span class="op">(</span></span>
<span>  <span class="va">n</span>,</span>
<span>  colorspace <span class="op">=</span> <span class="st">"pretty"</span>,</span>
<span>  cvd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"protan"</span>, <span class="st">"deutan"</span>, <span class="st">"tritan"</span><span class="op">)</span>,</span>
<span>  cvd_severity <span class="op">=</span> <span class="fl">0</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-n">n<a class="anchor" aria-label="anchor" href="#arg-n"></a></dt>
<dd><p>The number of colors to generate.</p></dd>


<dt id="arg-colorspace">colorspace<a class="anchor" aria-label="anchor" href="#arg-colorspace"></a></dt>
<dd><p>A color space to generate colors from. Can be any of the
following:</p><ul><li><p>A <code><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></code> with the following <em>named</em> vectors,
each of length two, giving a range for each item.</p><dl><dt><code>h</code></dt>
<dd><p>Hue, in range from -360 to 360</p></dd>

<dt><code>s</code></dt>
<dd><p>Saturation, in the range from 0 to 1</p></dd>

<dt><code>l</code></dt>
<dd><p>Lightness, in the range from 0 to 1</p></dd>


</dl></li>
<li><p>A <code><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></code> vector of length one specifying one of
these predefined color spaces:</p><dl><dt><code>pretty</code></dt>
<dd><p>Tries to provide aesthetically pleasing,
but still distinct color palettes. Hue ranges from 0 to 360,
saturation from 0.1 to 0.5, and lightness from 0.5 to 0.85. This
palette is not suitable for high <code>n</code></p></dd>

<dt><code>pretty_dark</code></dt>
<dd><p>Like <code>pretty</code> but darker. Hue ranges from 0 to 360, saturation
from 0.1 to 0.5, and lightness from 0.2 to 0.4.</p></dd>

<dt><code>rainbow</code></dt>
<dd><p>Uses all hues, chromas, and most of the lightness range. Provides
distinct but not aesthetically pleasing colors.</p></dd>

<dt><code>pastels</code></dt>
<dd><p>Pastel colors from the complete range of hues (0-360), with
saturation between 0.2 and 0.4, and lightness between 0.8 and 0.9.</p></dd>


</dl></li>
<li><p>A <code><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></code> of colors from the sRGB color space, each
row representing a unique color.</p></li>
<li><p>A <code><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></code> that can be converted to a matrix via
<a href="https://rdrr.io/r/base/data.matrix.html" class="external-link">data.matrix</a></p></li>
</ul></dd>


<dt id="arg-cvd">cvd<a class="anchor" aria-label="anchor" href="#arg-cvd"></a></dt>
<dd><p>Color vision deficiency adaptation. Use <code>cvd_severity</code>
to set the severity of color vision deficiency to adapt to. Permissible
values are <code>"protan", "deutan",</code> and <code>"tritan"</code>.</p></dd>


<dt id="arg-cvd-severity">cvd_severity<a class="anchor" aria-label="anchor" href="#arg-cvd-severity"></a></dt>
<dd><p>Severity of color vision deficiency to adapt to. Can take
any value from 0, for normal vision (the default), and 1, for dichromatic
vision.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list of class <code>qualpal</code> with the following
components.</p>
<dl><dt>HSL</dt>
<dd><p>A matrix of the colors in the HSL color space.</p></dd>

<dt>DIN99d</dt>
<dd><p>A matrix of the colors in the DIN99d color space (after power
transformations).</p></dd>

<dt>RGB</dt>
<dd><p>A matrix of the colors in the sRGB color space.</p></dd>
 <dt>hex</dt>
<dd><p>A
character vector of the colors in hex notation.</p></dd>
 <dt>de_DIN99d</dt>
<dd><p>A
distance matrix of color differences according to delta E DIN99d.</p></dd>

<dt>min_de_DIN99d</dt>
<dd><p>The smallest pairwise DIN99d color difference.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The function takes a color subspace in the HSL color space, where lightness
and saturation take values from 0 to 1. Hue take values from -360 to 360,
although negative values are brought to lie in the range {0, 360}; this
behavior exists to enable color subspaces that span all hues being that the
hue space is circular.</p>
<p>The HSL color subspace that the user provides is projected into the DIN99d
color space, which is approximately perceptually uniform, i.e. color
difference is proportional to the euclidean distance between two colors. A
distance matrix is computed and, as an additional step, is transformed using
power transformations discovered by Huang 2015 in order to fine tune
differences.</p>
<p><code>qualpal</code> then searches the distance matrix for the most
distinct colors; it does this iteratively by first selecting a random set of
colors and then iterates over each color, putting colors back into the total
set and replaces it with a new color until it has gone through the whole
range without changing any of the colors.</p>
<p>Optionally, <code>qualpal</code> can adapt palettes to cater to color vision
deficiency (cvd). This is accomplished by taking the colors
provided by the user and transforming them to colors that someone with cvd
would see, that is, simulating cvd. qualpal then chooses colors from
these new colors.</p>
<p><code>qualpal</code> currently only supports the sRGB color space with the D65
white point reference.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="plot.qualpal.html">plot.qualpal</a></code>, <code><a href="pairs.qualpal.html">pairs.qualpal</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Generate 3 distinct colors from the default color space</span></span></span>
<span class="r-in"><span><span class="fu">qualpal</span><span class="op">(</span><span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---------------------------------------- </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Colors in the HSL color space </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           Hue Saturation Lightness</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> #8acb6c 101.6       0.48      0.61</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> #cb7469   6.7       0.49      0.60</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> #7498ce 215.5       0.48      0.63</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  ---------------------------------------- </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> DIN99d color difference distance matrix </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         #8acb6c #cb7469</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> #cb7469      24        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> #7498ce      24      24</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Provide a custom color space</span></span></span>
<span class="r-in"><span><span class="fu">qualpal</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">3</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>h <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">35</span>, <span class="fl">360</span><span class="op">)</span>, s <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">0.7</span><span class="op">)</span>, l <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.45</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---------------------------------------- </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Colors in the HSL color space </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         Hue Saturation Lightness</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> #320912 347       0.69      0.12</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> #2285be 202       0.69      0.44</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> #be9423  44       0.68      0.44</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  ---------------------------------------- </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> DIN99d color difference distance matrix </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         #320912 #2285be</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> #2285be      29        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> #be9423      29      28</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">qualpal</span><span class="op">(</span><span class="fl">3</span>, <span class="st">"pretty"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---------------------------------------- </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Colors in the HSL color space </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           Hue Saturation Lightness</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> #8acb6c 101.6       0.48      0.61</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> #cb7469   6.7       0.49      0.60</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> #7498ce 215.5       0.48      0.63</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  ---------------------------------------- </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> DIN99d color difference distance matrix </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         #8acb6c #cb7469</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> #cb7469      24        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> #7498ce      24      24</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Adapt palette to deuteranopia</span></span></span>
<span class="r-in"><span><span class="fu">qualpal</span><span class="op">(</span><span class="fl">5</span>, colorspace <span class="op">=</span> <span class="st">"pretty_dark"</span>, cvd <span class="op">=</span> <span class="st">"deutan"</span>, cvd_severity <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---------------------------------------- </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Colors in the HSL color space </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         Hue Saturation Lightness</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> #1d1c4c 241       0.46      0.21</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> #36708a 199       0.44      0.38</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> #8a872e  58       0.50      0.36</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> #4c1c20 355       0.46      0.21</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> #41755a 149       0.29      0.36</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  ---------------------------------------- </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> DIN99d color difference distance matrix </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         #1d1c4c #36708a #8a872e #4c1c20</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> #36708a      20                        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> #8a872e      30      23                </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> #4c1c20      18      24      24        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> #41755a      24      13      16      24</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Adapt palette to protanomaly with severity 0.4</span></span></span>
<span class="r-in"><span><span class="fu">qualpal</span><span class="op">(</span><span class="fl">8</span>, colorspace <span class="op">=</span> <span class="st">"pretty_dark"</span>, cvd <span class="op">=</span> <span class="st">"protan"</span>, cvd_severity <span class="op">=</span> <span class="fl">0.4</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---------------------------------------- </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Colors in the HSL color space </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         Hue Saturation Lightness</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> #36917f 168       0.46      0.39</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> #1e4a37 154       0.42      0.21</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> #589533  97       0.49      0.39</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> #935132  19       0.49      0.39</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> #1d1c4c 241       0.46      0.21</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> #4c1c20 355       0.46      0.21</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> #903a66 329       0.42      0.40</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> #2f608d 209       0.50      0.37</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  ---------------------------------------- </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> DIN99d color difference distance matrix </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         #36917f #1e4a37 #589533 #935132 #1d1c4c #4c1c20 #903a66</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> #1e4a37      15                                                </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> #589533      14      18                                        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> #935132      24      22      22                                </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> #1d1c4c      26      20      30      25                        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> #4c1c20      27      21      27      15      18                </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> #903a66      27      24      28      15      20      14        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> #2f608d      17      17      24      25      17      23      21</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># The range of hue cannot exceed 360</span></span></span>
<span class="r-in"><span><span class="fu">qualpal</span><span class="op">(</span><span class="fl">3</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>h <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">20</span>, <span class="fl">360</span><span class="op">)</span>, s <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">0.7</span><span class="op">)</span>, l <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.45</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Johan Larsson.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

