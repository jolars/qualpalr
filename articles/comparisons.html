<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Qualpal Alternatives • qualpalr</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Qualpal Alternatives">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">qualpalr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/comparisons.html">Qualpal Alternatives</a></li>
    <li><a class="dropdown-item" href="../articles/introduction.html">An introduction to qualpalr</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/jolars/qualpalr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Qualpal Alternatives</h1>
                        <h4 data-toc-skip class="author">Johan
Larsson</h4>
            
            <h4 data-toc-skip class="date">2025-10-17</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/jolars/qualpalr/blob/main/vignettes/comparisons.Rmd" class="external-link"><code>vignettes/comparisons.Rmd</code></a></small>
      <div class="d-none name"><code>comparisons.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="background">Background<a class="anchor" aria-label="anchor" href="#background"></a>
</h2>
<p>Finding a good color palette for categorical data is a problem that
has been tackled previously. In this vignette, we will compare the
qualpal library with several alternatives, namely</p>
<ul>
<li><a href="https://gramaz.io/colorgorical/" class="external-link">Colorgorical</a></li>
<li><a href="https://www.yunhaiwang.net/infoVis2020/palettailor/color-palette-generation.html" class="external-link">Palletailor</a></li>
<li><a href="https://medialab.github.io/iwanthue/" class="external-link">iWantHue</a></li>
<li><a href="https://distinctipy.readthedocs.io/en/latest/" class="external-link">Distinctipy</a></li>
<li><a href="https://glasbey.readthedocs.io/en/latest/" class="external-link">Glasbey</a></li>
</ul>
</div>
<div class="section level2">
<h2 id="iwanthue">iWantHue<a class="anchor" aria-label="anchor" href="#iwanthue"></a>
</h2>
<p><a href="https://medialab.github.io/iwanthue/" class="external-link">iWantHue</a> served as
the main inspiration for the qualpal package. It is a web-based
(Javascript) tool that allows users to generate color palettes for
categorical data. Like qualpal, it generates a set of points. But unlike
qualpal, it uses a
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>k</mi><annotation encoding="application/x-tex">k</annotation></semantics></math>-means
clustering or force-vector algorithm to generate the final palette. It
also only supports input in the LCH<sub>ab</sub> color space.</p>
<p>To compare the two, we will start by generating a palette with
iWantHue. I used the web interface, but the Javascript code to generate
the palette is as follows (which the app gratefully provides):</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="kw">var</span> colors <span class="op">=</span> paletteGenerator<span class="op">.</span><span class="fu">generate</span>(</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>  <span class="dv">5</span><span class="op">,</span> <span class="co">// Colors</span></span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>  <span class="kw">function</span>(color){ <span class="co">// This function filters valid colors</span></span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>    <span class="kw">var</span> hcl <span class="op">=</span> color<span class="op">.</span><span class="fu">hcl</span>()<span class="op">;</span></span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>    <span class="cf">return</span> (hcl[<span class="dv">0</span>]<span class="op">&gt;=</span><span class="dv">50</span> <span class="op">||</span> hcl[<span class="dv">0</span>]<span class="op">&lt;=</span><span class="dv">290</span>)</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a>      <span class="op">&amp;&amp;</span> hcl[<span class="dv">1</span>]<span class="op">&gt;=</span><span class="dv">0</span> <span class="op">&amp;&amp;</span> hcl[<span class="dv">1</span>]<span class="op">&lt;=</span><span class="dv">134</span></span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a>      <span class="op">&amp;&amp;</span> hcl[<span class="dv">2</span>]<span class="op">&gt;=</span><span class="dv">25</span> <span class="op">&amp;&amp;</span> hcl[<span class="dv">2</span>]<span class="op">&lt;=</span><span class="dv">85</span><span class="op">;</span></span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb1-9"><a href="#cb1-9" tabindex="-1"></a>  <span class="kw">false</span><span class="op">,</span> <span class="co">// Using Force Vector instead of k-Means</span></span>
<span id="cb1-10"><a href="#cb1-10" tabindex="-1"></a>  <span class="dv">50</span><span class="op">,</span> <span class="co">// Steps (quality)</span></span>
<span id="cb1-11"><a href="#cb1-11" tabindex="-1"></a>  <span class="kw">false</span><span class="op">,</span> <span class="co">// Ultra precision</span></span>
<span id="cb1-12"><a href="#cb1-12" tabindex="-1"></a>  <span class="st">'Default'</span> <span class="co">// Color distance type (colorblindness)</span></span>
<span id="cb1-13"><a href="#cb1-13" tabindex="-1"></a>)<span class="op">;</span></span>
<span id="cb1-14"><a href="#cb1-14" tabindex="-1"></a><span class="co">// Sort colors by differenciation first</span></span>
<span id="cb1-15"><a href="#cb1-15" tabindex="-1"></a>colors <span class="op">=</span> paletteGenerator<span class="op">.</span><span class="fu">diffSort</span>(colors<span class="op">,</span> <span class="st">'Default'</span>)<span class="op">;</span></span></code></pre></div>
<p>To compare the two, we now run <code><a href="../reference/qualpal.html">qualpal()</a></code> with same
input.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://jolars.github.io/qualpalr/">qualpalr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">hcl_space</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>h <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">50</span>, <span class="fl">290</span><span class="op">)</span>, c <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">134</span><span class="op">)</span>, l <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">25</span>, <span class="fl">85</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">pal</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/qualpal.html">qualpal</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">5</span>, <span class="va">hcl_space</span><span class="op">)</span></span>
<span></span>
<span><span class="va">pal</span></span></code></pre></div>
<pre><code><span><span class="co">## ---------------------------------------- </span></span>
<span><span class="co">## Colors in the HSL color space </span></span>
<span><span class="co">## </span></span>
<span><span class="co">##         Hue Saturation Lightness</span></span>
<span><span class="co">## #0081ff 210          1      0.50</span></span>
<span><span class="co">## #771b00  14          1      0.23</span></span>
<span><span class="co">## #005800 120          1      0.17</span></span>
<span><span class="co">## #00ffb1 162          1      0.50</span></span>
<span><span class="co">## #ffac6b  26          1      0.71</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##  ---------------------------------------- </span></span>
<span><span class="co">## DIN99d color difference distance matrix </span></span>
<span><span class="co">## </span></span>
<span><span class="co">##         #0081ff #771b00 #005800 #00ffb1</span></span>
<span><span class="co">## #771b00      31                        </span></span>
<span><span class="co">## #005800      29      24                </span></span>
<span><span class="co">## #00ffb1      29      36      26        </span></span>
<span><span class="co">## #ffac6b      31      24      28      27</span></span></code></pre>
<p>Finally, to compare the two palettes, we can use the
<code><a href="../reference/analyze_palette.html">analyze_palette()</a></code> function from <strong>qualpalr</strong>,
which returns a list of analyses of the palettes, one for each type of
color vision deficiency (CVD), with a configurable severity.</p>
<p>I’ve hard-coded the iWantHue palette here, and will compare it to the
qualpal palette we just generated. Here, we show the color difference
values for the normal vision analysis.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">iwanthue</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"#5f683c"</span>,</span>
<span>  <span class="st">"#5c87b5"</span>,</span>
<span>  <span class="st">"#79bf4b"</span>,</span>
<span>  <span class="st">"#c79041"</span>,</span>
<span>  <span class="st">"#7bb99d"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/analyze_palette.html">analyze_palette</a></span><span class="op">(</span><span class="va">pal</span><span class="op">$</span><span class="va">hex</span>, metric <span class="op">=</span> <span class="st">"ciede2000"</span><span class="op">)</span><span class="op">$</span><span class="va">normal</span></span></code></pre></div>
<pre><code><span><span class="co">## $difference_matrix</span></span>
<span><span class="co">##          #0081ff  #771b00  #005800  #00ffb1</span></span>
<span><span class="co">## #771b00 52.68595                           </span></span>
<span><span class="co">## #005800 60.31118 52.20662                  </span></span>
<span><span class="co">## #00ffb1 55.50559 84.64856 51.73998         </span></span>
<span><span class="co">## #ffac6b 52.85371 52.06510 59.63868 50.86874</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $min_distances</span></span>
<span><span class="co">##  #0081ff  #771b00  #005800  #00ffb1  #ffac6b </span></span>
<span><span class="co">## 52.68595 52.06510 51.73998 50.86874 50.86874 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $bg_min_distance</span></span>
<span><span class="co">## [1] NaN</span></span></code></pre>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/analyze_palette.html">analyze_palette</a></span><span class="op">(</span><span class="va">iwanthue</span>, metric <span class="op">=</span> <span class="st">"ciede2000"</span><span class="op">)</span><span class="op">$</span><span class="va">normal</span></span></code></pre></div>
<pre><code><span><span class="co">## $difference_matrix</span></span>
<span><span class="co">##          #5f683c  #5c87b5  #79bf4b  #c79041</span></span>
<span><span class="co">## #5c87b5 40.29442                           </span></span>
<span><span class="co">## #79bf4b 29.94464 50.43511                  </span></span>
<span><span class="co">## #c79041 29.25577 42.50749 32.66864         </span></span>
<span><span class="co">## #7bb99d 29.76810 31.42995 17.49101 33.43658</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $min_distances</span></span>
<span><span class="co">##  #5f683c  #5c87b5  #79bf4b  #c79041  #7bb99d </span></span>
<span><span class="co">## 29.25577 31.42995 17.49101 29.25577 17.49101 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $bg_min_distance</span></span>
<span><span class="co">## [1] NaN</span></span></code></pre>
<p>The result shows a matrix of color differences for each color in the
palette, as well as a vector of the minimum color difference for each
color in the palette and a color difference with respect to the
background (if used, which we did not in this case).</p>
<p>For a better visual comparison, we can plot the color difference
values for each color in the palette.<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;The code for these plots can be found in the source code
of this vignette.&lt;/p&gt;"><sup>1</sup></a></p>
<p><img src="comparisons_files/figure-html/plot-iwanthue-1.png" width="700"><img src="comparisons_files/figure-html/plot-iwanthue-2.png" width="700"></p>
<p>As you can see, qualpal produces a palette that’s much more distinct,
with higher color difference values across the board.</p>
<p>Like qualpal, iWantHue also supports some adaptation for Color Vision
Deficiency (CVD), but much less granular than qualpal. In fact I’m not
sure how it works or what kind of CVD adaptation it supports.</p>
</div>
<div class="section level2">
<h2 id="colorgorical">Colorgorical<a class="anchor" aria-label="anchor" href="#colorgorical"></a>
</h2>
<p><a href="https://gramaz.io/colorgorical/" class="external-link">Colorgorical</a> is a
web-based tool for generating color palettes for categorical data. It
uses an iterative method with random sampling to incrementally build the
palette. The algorithm is described in the paper by <span class="citation">Gramazio, Laidlaw, and Schloss (2016)</span>.</p>
<p>It’s based on Python under the hood and the code is available <a href="https://github.com/connorgr/colorgorical" class="external-link">on GitHub</a>. The web
app is, at the time of writing, down, but is otherwise accessible via a
link on <a href="https://gramaz.io/colorgorical/" class="external-link uri">https://gramaz.io/colorgorical/</a>. Prior to it going down,
however, I generated a palette using the same HCL color space as for the
iWantHue example above. By default, Colorgorical also tries to maximize
the name difference of the colors, but I have turned that off for the
sake of this comparison. The resulting palette is as follows:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">colorgorical</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#b4ddd4"</span>, <span class="st">"#9b233d"</span>, <span class="st">"#2eece6"</span>, <span class="st">"#f82387"</span>, <span class="st">"#32a190"</span><span class="op">)</span></span></code></pre></div>
<div class="figure">
<img src="comparisons_files/figure-html/plot-colorgorical-1.png" alt="Colorgorical vs Qualpal" width="700"><p class="caption">
Colorgorical vs Qualpal
</p>
</div>
<div class="figure">
<img src="comparisons_files/figure-html/plot-colorgorical-2.png" alt="Colorgorical vs Qualpal" width="700"><p class="caption">
Colorgorical vs Qualpal
</p>
</div>
<p>As before, we see that the qualpal palette is considerably more
distinct.</p>
</div>
<div class="section level2">
<h2 id="glasbey">Glasbey<a class="anchor" aria-label="anchor" href="#glasbey"></a>
</h2>
<p><a href="https://glasbey.readthedocs.io/en/latest/" class="external-link">Glasbey</a> is a
python library for generating color palettes for categorical data. It is
based on academic work by <span class="citation">Glasbey et al.
(2007)</span> and uses simulated annealing and the CIE76 metric to
compute color differences. Here we used a slightly modified version of
the colorspace above to generate a palette with 8 colors.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="im">import</span> glasbey</span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a>pal <span class="op">=</span> glasbey.create_palette(</span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a>    palette_size<span class="op">=</span><span class="dv">8</span>,</span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a>    hue_bounds<span class="op">=</span>(<span class="op">-</span><span class="dv">90</span>, <span class="dv">90</span>),</span>
<span id="cb9-6"><a href="#cb9-6" tabindex="-1"></a>    chroma_bounds<span class="op">=</span>(<span class="dv">50</span>, <span class="dv">100</span>),</span>
<span id="cb9-7"><a href="#cb9-7" tabindex="-1"></a>    lightness_bounds<span class="op">=</span>(<span class="dv">30</span>, <span class="dv">70</span>),</span>
<span id="cb9-8"><a href="#cb9-8" tabindex="-1"></a>)</span></code></pre></div>
<p>The resulting palette as well as the palette generated by qualpal are
as follows:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">glasbey</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"#b20000"</span>,</span>
<span>  <span class="st">"#caa200"</span>,</span>
<span>  <span class="st">"#ff8ab2"</span>,</span>
<span>  <span class="st">"#aa145d"</span>,</span>
<span>  <span class="st">"#9e5d00"</span>,</span>
<span>  <span class="st">"#ff7910"</span>,</span>
<span>  <span class="st">"#ff008a"</span>,</span>
<span>  <span class="st">"#ca5d55"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">pal2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/qualpal.html">qualpal</a></span><span class="op">(</span><span class="fl">8</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>h <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">90</span>, <span class="fl">90</span><span class="op">)</span>, c <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">50</span>, <span class="fl">100</span><span class="op">)</span>, l <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">30</span>, <span class="fl">70</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="comparisons_files/figure-html/plot-glasbey-1.png" width="700"><img src="comparisons_files/figure-html/plot-glasbey-2.png" width="700"></p>
<p>One option that’s shared by both qualpal and Glasbey is the
possibility to extend an existing palette with more colors. Glasbey has
a function for this, which we can use to extend a palette taken from the
Glasbey documentation.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a>base_pal <span class="op">=</span> [<span class="st">"#2a3e63"</span>, <span class="st">"#7088b8"</span>, <span class="st">"#fcaf3e"</span>, <span class="st">"#b87088"</span>]</span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a>pal_extend <span class="op">=</span> glasbey.extend_palette(</span>
<span id="cb11-4"><a href="#cb11-4" tabindex="-1"></a>    base_pal,</span>
<span id="cb11-5"><a href="#cb11-5" tabindex="-1"></a>    palette_size<span class="op">=</span><span class="dv">8</span>,</span>
<span id="cb11-6"><a href="#cb11-6" tabindex="-1"></a>    hue_bounds<span class="op">=</span>(<span class="dv">50</span>,<span class="dv">280</span>),</span>
<span id="cb11-7"><a href="#cb11-7" tabindex="-1"></a>    chroma_bounds<span class="op">=</span>(<span class="dv">50</span>, <span class="dv">80</span>),</span>
<span id="cb11-8"><a href="#cb11-8" tabindex="-1"></a>    lightness_bounds<span class="op">=</span>(<span class="dv">25</span>, <span class="dv">70</span>),</span>
<span id="cb11-9"><a href="#cb11-9" tabindex="-1"></a>)</span></code></pre></div>
<p>To do this in qualpal, we can use the <code>extend</code> argument to
<code><a href="../reference/qualpal.html">qualpal()</a></code>, which will extend the base palette.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">glasbey_extend</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"#2a3e63"</span>,</span>
<span>  <span class="st">"#7088b8"</span>,</span>
<span>  <span class="st">"#fcaf3e"</span>,</span>
<span>  <span class="st">"#b87088"</span>,</span>
<span>  <span class="st">"#417108"</span>,</span>
<span>  <span class="st">"#45dfa6"</span>,</span>
<span>  <span class="st">"#6d0c49"</span>,</span>
<span>  <span class="st">"#dfaaff"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">base_pal</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"#2a3e63"</span>,</span>
<span>  <span class="st">"#7088b8"</span>,</span>
<span>  <span class="st">"#fcaf3e"</span>,</span>
<span>  <span class="st">"#b87088"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">pal_extend</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/qualpal.html">qualpal</a></span><span class="op">(</span></span>
<span>  <span class="fl">8</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>h <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">50</span>, <span class="fl">280</span><span class="op">)</span>, c <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">50</span>, <span class="fl">80</span><span class="op">)</span>, l <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">25</span>, <span class="fl">70</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  extend <span class="op">=</span> <span class="va">base_pal</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="comparisons_files/figure-html/plot-glasbey-extend-1.png" width="700"><img src="comparisons_files/figure-html/plot-glasbey-extend-2.png" width="700"></p>
<p>Both palettes are quite distinct, but the qualpal palette keeps a
better color difference across the board.</p>
<p>As in qualpal, glasbey also supports some adaptation for Color Vision
Deficiency (CVD). Unlike qualpal, however, it only supports adaptation
for a single type of CVD at a time, but also supports a severity
parameter to control the strength of the adaptation.</p>
<p>We generated a palette with 6 colors, adapted for protanomaly with a
severity of 100% (the maximum), using the following code:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a>cvd_pal <span class="op">=</span> glasbey.create_palette(</span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a>    palette_size<span class="op">=</span><span class="dv">6</span>,</span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a>    colorblind_safe<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb13-4"><a href="#cb13-4" tabindex="-1"></a>    cvd_type<span class="op">=</span><span class="st">"protanomaly"</span>,</span>
<span id="cb13-5"><a href="#cb13-5" tabindex="-1"></a>    cvd_severity<span class="op">=</span><span class="dv">100</span>,</span>
<span id="cb13-6"><a href="#cb13-6" tabindex="-1"></a>    hue_bounds<span class="op">=</span>(<span class="dv">50</span>,<span class="dv">280</span>),</span>
<span id="cb13-7"><a href="#cb13-7" tabindex="-1"></a>    chroma_bounds<span class="op">=</span>(<span class="dv">50</span>, <span class="dv">80</span>),</span>
<span id="cb13-8"><a href="#cb13-8" tabindex="-1"></a>    lightness_bounds<span class="op">=</span>(<span class="dv">25</span>, <span class="dv">70</span>),</span>
<span id="cb13-9"><a href="#cb13-9" tabindex="-1"></a>)</span></code></pre></div>
<p>The resulting palette and the qualpal palette is given below.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">glasbey_cvd</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"#512deb"</span>,</span>
<span>  <span class="st">"#317d00"</span>,</span>
<span>  <span class="st">"#92d200"</span>,</span>
<span>  <span class="st">"#39ceff"</span>,</span>
<span>  <span class="st">"#00ba92"</span>,</span>
<span>  <span class="st">"#0082b2"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">cvd_pal</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/qualpal.html">qualpal</a></span><span class="op">(</span></span>
<span>  <span class="fl">6</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>h <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">50</span>, <span class="fl">280</span><span class="op">)</span>, c <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">50</span>, <span class="fl">80</span><span class="op">)</span>, l <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">25</span>, <span class="fl">70</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  cvd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>protan <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="comparisons_files/figure-html/plot-glasbey-cvd-1.png" width="700"><img src="comparisons_files/figure-html/plot-glasbey-cvd-2.png" width="700"></p>
</div>
<div class="section level2">
<h2 id="distinctipy">Distinctipy<a class="anchor" aria-label="anchor" href="#distinctipy"></a>
</h2>
<p><a href="https://distinctipy.readthedocs.io/en/latest/" class="external-link">Distinctipy</a> is
another python library for generating color palettes for categorical
data. It randomly samples colors from the RGB color space and then
computes pairwise color differences with the CIE76 metric, repeats this
for a set number of attempts, and then picks the best palette among the
attempts.</p>
<p>I ran the following code to generate a 9-color palette with the
default settings, included colors from all over the spectrum.<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;There is only a pastels filter for limiting the
colors.&lt;/p&gt;"><sup>2</sup></a> There are
no options other than a pastel color setting for changing this.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="im">import</span> distinctipy</span>
<span id="cb15-2"><a href="#cb15-2" tabindex="-1"></a></span>
<span id="cb15-3"><a href="#cb15-3" tabindex="-1"></a>dpal <span class="op">=</span> distinctipy.get_colors(<span class="dv">9</span>, rng <span class="op">=</span> <span class="dv">0</span>, n_attempts<span class="op">=</span><span class="dv">1000</span>)</span>
<span id="cb15-4"><a href="#cb15-4" tabindex="-1"></a></span>
<span id="cb15-5"><a href="#cb15-5" tabindex="-1"></a>[distinctipy.get_hex(c) <span class="cf">for</span> c <span class="kw">in</span> dpal]</span></code></pre></div>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">distinctipy</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"#cf02fd"</span>,</span>
<span>  <span class="st">"#00ff00"</span>,</span>
<span>  <span class="st">"#ff8000"</span>,</span>
<span>  <span class="st">"#01aced"</span>,</span>
<span>  <span class="st">"#0905c3"</span>,</span>
<span>  <span class="st">"#538337"</span>,</span>
<span>  <span class="st">"#80ff80"</span>,</span>
<span>  <span class="st">"#a80549"</span>,</span>
<span>  <span class="st">"#b28cd2"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">pal3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/qualpal.html">qualpal</a></span><span class="op">(</span><span class="fl">9</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>h <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">360</span><span class="op">)</span>, s <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span>, l <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="comparisons_files/figure-html/plot-distinctipy-1.png" width="700"><img src="comparisons_files/figure-html/plot-distinctipy-2.png" width="700"></p>
<p>We see that qualpal produces a more distinct palette and that the
palette from distinctipy is quite uneven, with two colors being very
similar to each other.</p>
</div>
<div class="section level2">
<h2 id="palettailor">Palettailor<a class="anchor" aria-label="anchor" href="#palettailor"></a>
</h2>
<p><a href="https://www.yunhaiwang.net/infoVis2020/palettailor/color-palette-generation.html" class="external-link">Palettailor</a>
is another web-based tool for generating color palettes for categorical
data. It is based on academic work by <span class="citation">Lu et al.
(2021)</span> and, like Glasbey, it uses a simulated annealing approach,
albeit with the CIEDE2000 metric instead.</p>
<p>Compared to qualpal and the other alternatives here, it takes a
different approach to generating color palettes. It optimizes the color
palette for a specific plot design by trying to maximize the
distinctiveness of the colors that are close to each other in the
plot.For that reason, the comparisons here are not entirely fair, but if
we turn off optimizations for name difference and point distinctiveness
(in the web app), we can still compare the generated palette with
qualpal.</p>
<p>Here is the result from the Palettailor web app, using a 10-color
palette with the color space defined in the <code>hcl_space</code>
object. Palettailor does not support controls for saturation, so we use
the full range in qualpal to facilitate the comparison. Palettailor also
forces optimization with a background color in mind, although choices
are restricted to either white or black, so we set the <code>bg</code>
argument to <code>"white"</code> in qualpal here.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">palettailor</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"#4ca600"</span>,</span>
<span>  <span class="st">"#5dfbbf"</span>,</span>
<span>  <span class="st">"#eda59f"</span>,</span>
<span>  <span class="st">"#32998d"</span>,</span>
<span>  <span class="st">"#605ec4"</span>,</span>
<span>  <span class="st">"#0099ef"</span>,</span>
<span>  <span class="st">"#e950e8"</span>,</span>
<span>  <span class="st">"#e1f32e"</span>,</span>
<span>  <span class="st">"#936411"</span>,</span>
<span>  <span class="st">"#e9003e"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">hsl_space</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>h <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">360</span><span class="op">)</span>, s <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span>, l <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.45</span>, <span class="fl">0.95</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">pal3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/qualpal.html">qualpal</a></span><span class="op">(</span><span class="fl">10</span>, <span class="va">hsl_space</span>, bg <span class="op">=</span> <span class="st">"white"</span><span class="op">)</span></span></code></pre></div>
<p><img src="comparisons_files/figure-html/plot-palettailor-1.png" width="700"><img src="comparisons_files/figure-html/plot-palettailor-2.png" width="700"></p>
<p>We again see that qualpal produces a more distinct palette, but this
time the difference is not as pronounced as with the other
alternatives.</p>
</div>
<div class="section level2 unnumbered">
<h2 class="unnumbered" id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0">
<div id="ref-glasbey2007" class="csl-entry">
Glasbey, Chris, Gerie van der Heijden, Vivian F. K. Toh, and Alision
Gray. 2007. <span>“Colour Displays for Categorical Images.”</span>
<em>Color Research &amp; Application</em> 32 (4): 304–9. <a href="https://doi.org/10.1002/col.20327" class="external-link">https://doi.org/10.1002/col.20327</a>.
</div>
<div id="ref-gramazio2016" class="csl-entry">
Gramazio, Connor C., David H. Laidlaw, and Karen B. Schloss. 2016.
<span>“Colorgorical: Creating Discriminable and Preferable Color
Palettes for Information Visualization.”</span> <em>IEEE Transactions on
Visualization and Computer Graphics</em> 23 (1): 521–30. <a href="https://doi.org/10.1109/TVCG.2016.2598918" class="external-link">https://doi.org/10.1109/TVCG.2016.2598918</a>.
</div>
<div id="ref-lu2021" class="csl-entry">
Lu, Kecheng, Mi Feng, Xin Chen, Michael Sedlmair, Oliver Deussen, Dani
Lischinski, Zhanglin Cheng, and Yunhai Wang. 2021. <span>“Palettailor:
Discriminable Colorization for Categorical Data.”</span> <em>IEEE
Transactions on Visualization and Computer Graphics</em> 27 (02):
475–84. <a href="https://doi.org/10.1109/TVCG.2020.3030406" class="external-link">https://doi.org/10.1109/TVCG.2020.3030406</a>.
</div>
</div>
</div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Johan Larsson.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
